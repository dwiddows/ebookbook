% This file is for commands / macros / functions.

% That at least was the original intention. As you can see from the comments, some of the commands
% that work for TeX and pdf output are innefective when applied to HTML and eBooks!

% These are useful because HTML output corrupts the result of the \latex command.
\newcommand{\latex}{LaTeX\xspace}
\newcommand{\tex}{TeX\xspace}

\newcommand\nextpage[1][]{
\ifdefined\HCode {
  \HCode{<mbp:pagebreak />}}
\else
  \newpage
\fi
}

\def\smalltt#1{\texttt{\small #1}}

% Make font smaller in verbatim mode. This doesn't seem to work in
% HTML output though.
\makeatletter
\patchcmd{\@verbatim}
  {\verbatim@font}
  {\verbatim@font\small}
  {}{}
\makeatother

% Wrapfigure doesn't typeset well in the ebook conversion! 
% marginal Boxes for special interest points
\definecolor{grey}{gray}{0.96}
% simple definition rather than newenvironment because of problems
% nesting parbox
\def\BOX#1#2{
  \begin{wrapfigure}{r}{2.5cm}
  \colorbox{grey}{\parbox{2cm}{
  % title
  \flushleft #1 \\
  \vspace*{0.1in}
  \small
  % paragraph text
  #2}   
  }
  \end{wrapfigure}
}

